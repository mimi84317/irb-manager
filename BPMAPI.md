# BPMAPI 資料庫功能
| API | Method | 功能 | Header | Body (form-data) | 回傳 | 備註 |
|---|---|---|---|---|---|---|
| BPMAPI/index.php | POST | 取得資料 | Accept: application/json	| <ul><li>funName:callDBApi</li><li>Data:{"DB":"BPM","TbName":"StudyHours","condition":" where  Id < ? ","statements":"select"}</li><li>conArr:{"0":"5"}</li><li>column:{"0":"top 2 Id","1":"name"}</li></ul> | JSON | <ul><li>*指不可null</li><li>Data:JSON格式各欄位表示如下</li><li>*DB:BPM/agentflow二個資料庫選一</li><li>*TbName:表格名稱</li><li>condition:SQL條件式，要用PDO</li><li>statements:SQL類型select</li><li>conArr:JSON格式，PDO ?號的值</li><li>column:空值代表*或是所要顯示的欄位名稱</li></ul> |
| BPMAPI/index.php | POST | 新增資料 | Accept: application/json	| <ul><li>funName:callDBApi</li><li>Data:{"DB":"BPM","TbName":"StudyHours","condition":" ","statements":"insert"}</li><li>insertObj:{"nowdate":"2021/03/05","course_title":"環境教育","course_code":"A456","category_id":"課1234","category_title":"環境教育時數","name":"科科","email":"123@gate.sinica","instName":"發展科","certified_hour":"777","certified_date":"2021/03/05","year":"2021"}</li></ul> | String，Insert Success/Failed | insertObj:JSON格式，需要insert的各欄位名稱與值|
| BPMAPI/index.php | POST | 更新資料 | Accept: application/json	| <ul><li>funName:callDBApi</li><li>Data:{"DB":"BPM","TbName":"StudyHours","condition":" where  Id  = ? ","statements":"update"}</li><li>conArr:{"0":"10110"}</li><li>updateObj:{"name":"OO"}</li></ul> | String，Insert Success/Failed | updateObj:JSON格式，需要update的欄位與名稱 |
| BPMAPI/index.php | POST | 刪除資料 | Accept: application/json	| <ul><li>funName:callDBApi</li><li>Data:{"DB":"BPM","TbName":"StudyHours","condition":" where  Id  = ? ","statements":"delete"}</li><li>conArr:{"0":"10110"}</li><li>column:""</li></ul> | String，Insert Success/Failed |   |
